{% extends 'base.html' %}

{% block titulo %}
    <title>Detalles de la Receta: {{ receta.titulo }}</title>
{% endblock titulo %}

{% block contenido %}
    <div class="container mt-4">
        <h1 class="text-center mb-4">Detalles de la Receta</h1>
        <div class="row">
            <div class="col-md-8">
                <div class="card mt-4">
                    <div class="card-body">
                        <h2 class="card-title">{{ receta.titulo }}</h2>
                        <p><strong>Categoría:</strong> {{ receta.categoria }}</p>
                        <h3>Ingredientes</h3>
                        <p>{{ receta.ingredientes|linebreaks }}</p>
                        <h3 class="mt-3">Instrucciones</h3>
                        <p>{{ receta.instrucciones|linebreaks }}</p>
                    </div>
                </div>

                <h3 class="mt-4">Agregar Comentario</h3>
                <form method="post" action="">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="{{ form.autor.id_for_label }}">Nombre del autor</label>
                        {{ form.autor }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.contenido.id_for_label }}">Comentario</label>
                        {{ form.contenido }}
                    </div>
                    <button class="btn btn-primary btn-sm" type="submit">Agregar</button>
                </form>
                
                <h3 class="mt-4">Comentarios</h3>
                <ul class="list-group">
                    {% for comentario in comentarios %}
                        <li class="list-group-item">
                            <strong>{{ comentario.autor }}:</strong>
                            <p>{{ comentario.contenido }}</p>
                            <small class="text-muted">Comentado el {{ comentario.fecha_creacion|date:"F j, Y H:i" }}</small>
                        </li>
                    {% endfor %}
                </ul>
                
                <a class="btn btn-secondary mt-4" href="{% url 'inicio' %}">Volver a la página de inicio</a>
            </div>
    
{% endblock contenido %}

